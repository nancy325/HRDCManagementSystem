
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - HRDC Management System</title>
    <link rel="icon" type="image/x-icon" href="~/lib/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="~/css/layout.css" rel="stylesheet" />
</head>
<body class="d-flex flex-column min-vh-100">

    <!-- Header Section -->
    <header class="main-header">
        <div class="header-container d-flex align-items-center justify-content-between px-3">
            <!-- Mobile Toggle Button -->
            <button class="sidebar-toggle d-lg-none me-2" id="sidebarToggle" type="button">
                <i class="bi bi-list"></i>
            </button>

            <!-- Logo + Title -->
            <div class="d-flex align-items-center justify-content-center justify-content-lg-start flex-grow-1 text-center text-lg-start">
                <img src="~/images/charusat-logo.png" alt="HRDC Logo" class="img-fluid" style="height: 45px; width: auto;" />

                <div class="ms-2 text-white">
                    <!-- Full Title (Desktop) -->
                    <h2 class="mb-0 header-title-full">Human Resource Development Centre</h2>

                    <!-- Mobile Title (Small Screens) -->
                    <div class="header-title-mobile d-lg-none">
                        <h5 class="mb-0">HR</h5>
                        <small>Development Centre</small>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Layout Wrapper -->
    <div class="d-flex flex-grow-1">
        <!-- Sidebar -->
        <nav id="sidebar" class="sidebar">
            @if (User.IsInRole("Admin"))
            {
                @await Html.PartialAsync("_SidebarAdmin")
            }
            else if (User.IsInRole("User") || User.IsInRole("Participants"))
            {
                @await Html.PartialAsync("_SidebarParticipant")
            }
            else
            {
                <div class="p-4 text-center text-muted">
                    <i class="bi bi-exclamation-triangle mb-2" style="font-size: 2rem;"></i>
                    <p>No sidebar available for your role.</p>
                </div>
            }
        </nav>

        <!-- Main Content -->
        <div class="main-content flex-grow-1">
            <main class="content-wrapper container py-3">
                @RenderBody()
            </main>
        </div>
    </div>

    <!-- Sticky Footer -->
    <footer class="bg-dark text-white text-center py-2 mt-auto">
        <small>&copy; @DateTime.Now.Year HRDC Management System | All Rights Reserved</small>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.getElementById('sidebar');

            if (sidebarToggle && sidebar) {
                sidebarToggle.addEventListener('click', function () {
                    sidebar.classList.toggle('show');
                });
            }
        });
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
